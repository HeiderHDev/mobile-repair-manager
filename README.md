# Mobile Repair Manager Frontend

## üìã Descripci√≥n

Frontend desarrollado en **Angular 20** con **TypeScript** para gestionar una empresa de reparaci√≥n de tel√©fonos m√≥viles. Esta aplicaci√≥n SPA (Single Page Application) proporciona una interfaz moderna y responsiva para manejar clientes, tel√©fonos y reparaciones con autenticaci√≥n completa y gesti√≥n de estados.

### üéØ Prueba T√©cnica - INNPACTIA

Este proyecto fue desarrollado como parte de una prueba t√©cnica que incluye:
- Sistema de autenticaci√≥n JWT completo
- Gesti√≥n integral de clientes con validaciones
- Registro y seguimiento detallado de tel√©fonos
- Control completo del ciclo de vida de reparaciones
- Dashboard intuitivo con navegaci√≥n fluida
- Arquitectura escalable y mantenible

## üõ†Ô∏è Stack Tecnol√≥gico

### Frontend Core
- **Angular 20** - Framework principal con Zoneless Change Detection
- **TypeScript** - Tipado est√°tico y programaci√≥n orientada a objetos
- **Angular Signals** - Gesti√≥n reactiva del estado
- **RxJS** - Programaci√≥n reactiva y manejo de streams
- **Angular Router** - Navegaci√≥n y lazy loading
- **Angular Forms** - Formularios reactivos con validaciones

### UI/UX Framework
- **PrimeNG 20** - Biblioteca de componentes empresariales
- **PrimeFlex/Tailwind CSS** - Utilidades de dise√±o responsivo
- **PrimeIcons** - Biblioteca de iconos
- **Aura Theme** - Tema moderno con soporte para modo oscuro

### Arquitectura y Patrones
- **Clean Architecture** - Separaci√≥n clara de responsabilidades
- **Feature-Based Structure** - Organizaci√≥n modular por caracter√≠sticas
- **Service-Repository Pattern** - Abstracci√≥n de acceso a datos
- **Interceptor Pattern** - Manejo centralizado de HTTP
- **Guard Pattern** - Protecci√≥n de rutas y autorizaci√≥n
- **Custom Components** - Componentes reutilizables y tipados

## üìÅ Estructura del Proyecto

```
src/app/
‚îú‚îÄ‚îÄ core/                           # Funcionalidades centrales
‚îÇ   ‚îú‚îÄ‚îÄ constants/                  # Constantes globales
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ form-errors-messages.ts # Mensajes de error centralizados
‚îÇ   ‚îú‚îÄ‚îÄ enum/                       # Enumeraciones
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth/                   # Enums de autenticaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ guards/                     # Guards de protecci√≥n
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth-guard.ts          # Protecci√≥n de rutas
‚îÇ   ‚îú‚îÄ‚îÄ interceptors/              # Interceptores HTTP
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/                  # Interceptor de autenticaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ error/                 # Interceptor de errores
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ loading/               # Interceptor de loading
‚îÇ   ‚îú‚îÄ‚îÄ interfaces/                # Interfaces globales
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/                  # Interfaces de autenticaci√≥n
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ error-handler/         # Interfaces de manejo de errores
‚îÇ   ‚îú‚îÄ‚îÄ layout/                    # Componentes de layout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.ts             # Layout principal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ navbar/               # Barra de navegaci√≥n
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sidebar/              # Men√∫ lateral
‚îÇ   ‚îî‚îÄ‚îÄ services/                  # Servicios centrales
‚îÇ       ‚îú‚îÄ‚îÄ auth/                 # Servicio de autenticaci√≥n
‚îÇ       ‚îú‚îÄ‚îÄ global-error-handler/ # Manejo global de errores
‚îÇ       ‚îú‚îÄ‚îÄ http-service/         # Servicio HTTP personalizado
‚îÇ       ‚îú‚îÄ‚îÄ layout/               # Configuraci√≥n de layout
‚îÇ       ‚îú‚îÄ‚îÄ loading/              # Servicio de loading
‚îÇ       ‚îú‚îÄ‚îÄ notification/         # Servicio de notificaciones
‚îÇ       ‚îî‚îÄ‚îÄ storage-service/      # Servicio de almacenamiento
‚îÇ
‚îú‚îÄ‚îÄ features/                      # M√≥dulos de caracter√≠sticas
‚îÇ   ‚îú‚îÄ‚îÄ auth/                     # M√≥dulo de autenticaci√≥n
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ login/               # Componente de login
‚îÇ   ‚îú‚îÄ‚îÄ clients/                  # M√≥dulo de clientes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/          # Componentes del m√≥dulo
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client-list/     # Lista de clientes
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client-form-modal/ # Modal de formulario
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client-phones/   # Tel√©fonos por cliente
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ phone-form-modal/ # Modal de tel√©fonos
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ phone-repairs/   # Reparaciones por tel√©fono
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ repair-form-modal/ # Modal de reparaciones
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ enum/                # Enumeraciones espec√≠ficas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ interfaces/          # Interfaces del dominio
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/            # Servicios de datos
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ clients.routes.ts    # Rutas del m√≥dulo
‚îÇ   ‚îî‚îÄ‚îÄ users/                    # M√≥dulo de usuarios (Solo Super Admin)
‚îÇ       ‚îú‚îÄ‚îÄ components/          # Componentes de usuarios
‚îÇ       ‚îú‚îÄ‚îÄ interfaces/          # Interfaces de usuarios
‚îÇ       ‚îú‚îÄ‚îÄ services/            # Servicios de usuarios
‚îÇ       ‚îî‚îÄ‚îÄ users.routes.ts      # Rutas de usuarios
‚îÇ
‚îî‚îÄ‚îÄ shared/                        # Componentes y utilidades compartidas
    ‚îú‚îÄ‚îÄ components/               # Componentes reutilizables
    ‚îÇ   ‚îú‚îÄ‚îÄ data-table/          # Tabla de datos gen√©rica
    ‚îÇ   ‚îú‚îÄ‚îÄ input-custom/        # Input personalizado
    ‚îÇ   ‚îî‚îÄ‚îÄ spinner/             # Componente de loading
    ‚îú‚îÄ‚îÄ interfaces/              # Interfaces compartidas
    ‚îÇ   ‚îú‚îÄ‚îÄ menu/               # Interfaces de men√∫
    ‚îÇ   ‚îî‚îÄ‚îÄ table/              # Interfaces de tabla
    ‚îî‚îÄ‚îÄ utils/                   # Utilidades compartidas
        ‚îî‚îÄ‚îÄ menu.utils.ts       # Utilidades de men√∫
```

## ‚ö° Instalaci√≥n y Configuraci√≥n

### Prerequisitos

- **Node.js** (v18 o superior)
- **npm** o **yarn**
- **Angular CLI** (v20 o superior)
- **Git**

### üöÄ Pasos de Instalaci√≥n

1. **Clonar el repositorio**
```bash
git clone https://github.com/tu-usuario/mobile-repair-manager-frontend.git
cd mobile-repair-manager-frontend
```

2. **Instalar dependencias**
```bash
npm install
```

3. **Configurar entornos**

Editar `src/environments/environment.ts`:
```typescript
export const environment = {
  production: false,
  apiUrl: 'http://localhost:3000'  // URL del backend
};
```

4. **Ejecutar en modo desarrollo**
```bash
ng serve
```

La aplicaci√≥n estar√° disponible en: `http://localhost:4200`

5. **Compilar para producci√≥n**
```bash
ng build --configuration production
```

## üîê Credenciales de Acceso

### Super Administrador
- **Usuario:** `superadmin`
- **Contrase√±a:** `admin123`

### Administrador
- **Usuario:** `admin1`
- **Contrase√±a:** `admin123`

## üèóÔ∏è Arquitectura y Patrones Implementados

### **1. Clean Architecture**
```
Presentation Layer (Components/Pages)
    ‚Üì
Business Logic Layer (Services)
    ‚Üì
Data Access Layer (HTTP/Storage)
```

### **2. Feature-Based Organization**
- M√≥dulos independientes por funcionalidad
- Lazy loading para optimizaci√≥n de carga
- Interfaces y servicios espec√≠ficos por dominio

### **3. Reactive Programming**
- **Angular Signals** para estado reactivo
- **RxJS Observables** para manejo de datos asincr√≥nicos
- **Computed Signals** para valores derivados

### **4. Component Architecture**
- **Smart/Dumb Components** - Separaci√≥n de responsabilidades
- **Input/Output Pattern** - Comunicaci√≥n entre componentes
- **Custom Components** - Componentes reutilizables tipados

## üöÄ Funcionalidades Principales

### ‚úÖ **Sistema de Autenticaci√≥n Completo**

**Caracter√≠sticas:**
- Login con JWT tokens
- Protecci√≥n de rutas con guards
- Manejo autom√°tico de expiraci√≥n de sesi√≥n
- Persistencia segura en localStorage
- Redirects inteligentes post-autenticaci√≥n

**Implementaci√≥n:**
```typescript
// Guard de autenticaci√≥n
export const authGuard: CanActivateFn = (route, state) => {
  const authService = inject(Auth);
  return authService.validateCurrentSession().pipe(
    map(isValid => isValid || redirectToLogin())
  );
};

// Guard de roles
export const roleGuard = (allowedRoles: string[]): CanActivateFn => {
  return () => authService.hasRole(allowedRoles);
};
```

### ‚úÖ **Gesti√≥n Avanzada de Estado**

**Angular Signals:**
```typescript
// Estado reactivo con signals
private _authState = signal<AuthState>({
  isAuthenticated: false,
  user: null,
  token: null
});

// Computed values
readonly isAuthenticated = computed(() => this._authState().isAuthenticated);
readonly currentUser = computed(() => this._authState().user);
```

### ‚úÖ **Sistema de Interceptores HTTP**

**Auth Interceptor:**
- Inyecci√≥n autom√°tica de tokens JWT
- Manejo de renovaci√≥n de tokens
- Logout autom√°tico en errores 401

**Loading Interceptor:**
- Spinner global autom√°tico
- Control centralizado de estado de carga

**Error Interceptor:**
- Manejo centralizado de errores HTTP
- Notificaciones autom√°ticas de errores
- Logging estructurado

### ‚úÖ **Componentes Reutilizables**

**Input Custom:**
```typescript
// Input tipado y reutilizable
<app-input-custom
  label="Correo Electr√≥nico"
  type="email"
  placeholder="usuario@ejemplo.com"
  formControlName="email"
  [maxlength]="100"
></app-input-custom>
```

**Data Table Gen√©rica:**
```typescript
// Tabla gen√©rica tipada
<app-data-table
  [data]="clients()"
  [config]="tableConfig()"
  (actionExecuted)="handleAction($event)"
></app-data-table>
```

### ‚úÖ **Gesti√≥n Global de Errores**

```typescript
@Injectable()
export class GlobalErrorHandler implements ErrorHandler {
  handleError(error: Error | HttpErrorResponse): void {
    // Manejo inteligente por tipo de error
    if (error instanceof HttpErrorResponse) {
      this.handleHttpError(error);
    } else {
      this.handleClientError(error);
    }
  }
}
```

### ‚úÖ **Sistema de Notificaciones**

```typescript
// Servicio de notificaciones tipado
success(summary: string, detail: string): void
error(summary: string, detail: string): void
warning(summary: string, detail: string): void
userCreated(entityName?: string): void
sessionExpired(): void
```

## üé® **Funcionalidades de UI/UX**

### **1. Modo Oscuro Autom√°tico**
- Toggle din√°mico entre tema claro y oscuro
- Persistencia de preferencias
- Transiciones suaves

### **2. Dise√±o Responsivo**
- Mobile-first approach
- Breakpoints optimizados
- Componentes adaptativos

### **3. Navegaci√≥n Intuitiva**
- Sidebar colapsible
- Breadcrumbs autom√°ticos
- Indicadores de estado

### **4. Validaciones en Tiempo Real**
- Validaci√≥n reactiva de formularios
- Mensajes de error contextuales
- Feedback visual inmediato

## üìä **Rutas y Navegaci√≥n**

### **Estructura de Rutas:**
```typescript
const routes: Routes = [
  {
    path: 'auth',
    canActivate: [noAuthGuard],
    children: [
      { path: 'login', component: LoginComponent }
    ]
  },
  {
    path: '',
    component: Layout,
    canActivate: [authGuard],
    children: [
      {
        path: 'users',
        canActivate: [roleGuard([UserRole.SUPER_ADMIN])],
        loadChildren: () => import('./users/users.routes')
      },
      {
        path: 'clients',
        loadChildren: () => import('./clients/clients.routes')
      }
    ]
  }
];
```

### **Lazy Loading Implementado:**
- Carga diferida por m√≥dulos
- Optimizaci√≥n de bundle size
- Mejora de performance inicial

## üîí **Seguridad Implementada**

### **1. Guards de Protecci√≥n**
- **authGuard**: Protecci√≥n de rutas autenticadas
- **noAuthGuard**: Prevenci√≥n de acceso a auth si ya est√° logueado
- **roleGuard**: Control de acceso por roles

### **2. Validaci√≥n de Tokens**
- Verificaci√≥n autom√°tica de expiraci√≥n
- Logout autom√°tico en tokens inv√°lidos
- Renovaci√≥n transparente de sesiones

### **3. Sanitizaci√≥n de Datos**
- Validaci√≥n de inputs en formularios
- Escape de contenido din√°mico
- Protecci√≥n contra XSS

## üì± **Funcionalidades por M√≥dulo**

### **üîê Autenticaci√≥n**
- Login con credenciales
- Validaci√≥n de formularios
- Manejo de errores de autenticaci√≥n
- Redirects inteligentes

### **üë• Gesti√≥n de Clientes**
- ‚úÖ **Listar clientes** con paginaci√≥n y b√∫squeda
- ‚úÖ **Crear cliente** con validaciones completas
- ‚úÖ **Editar cliente** con preservaci√≥n de datos
- ‚úÖ **Activar/Desactivar** clientes
- ‚úÖ **Eliminar cliente** con confirmaciones
- üì± **Ver tel√©fonos** por cliente

### **üì± Gesti√≥n de Tel√©fonos**
- ‚úÖ **Registrar tel√©fono** con validaci√≥n de IMEI
- ‚úÖ **Editar informaci√≥n** del dispositivo
- ‚úÖ **Control de condici√≥n** y garant√≠as
- ‚úÖ **Historial completo** de reparaciones
- üîß **Navegar a reparaciones** por tel√©fono

### **üîß Gesti√≥n de Reparaciones**
- ‚úÖ **Crear reparaci√≥n** con prioridades y estados
- ‚úÖ **Timeline visual** de reparaciones
- ‚úÖ **Actualizar estado** del progreso
- ‚úÖ **Gesti√≥n de costos** estimados y finales
- ‚úÖ **Notas t√©cnicas** y del cliente
- ‚úÖ **Filtros y b√∫squeda** avanzada

### **üë§ Gesti√≥n de Usuarios** (Solo Super Admin)
- ‚úÖ **Crear administradores**
- ‚úÖ **Gestionar permisos**
- ‚úÖ **Activar/Desactivar usuarios**
- ‚úÖ **Control de acceso** por roles

## ‚öôÔ∏è **Scripts Disponibles**

```json
{
  "scripts": {
    "ng": "ng",
    "start": "ng serve",              // Desarrollo en http://localhost:4200
    "build": "ng build",              // Build de producci√≥n
    "watch": "ng build --watch",      // Build con watch mode
    "test": "ng test",                // Ejecutar pruebas unitarias
    "lint": "ng lint"                 // Linting del c√≥digo
  }
}
```

## üß™ **Testing y Calidad**

### **Herramientas de Testing:**
- **Jasmine & Karma** - Testing unitario
- **Angular Testing Utilities** - Testing de componentes
- **ESLint** - Linting y est√°ndares de c√≥digo
- **TypeScript Strict Mode** - Tipado estricto

### **Est√°ndares de C√≥digo:**
- **Prettier** - Formateo consistente
- **ESLint + Angular Rules** - Reglas espec√≠ficas de Angular
- **Path Mapping** - Imports organizados con aliases

## üîÑ Pr√≥ximas Mejoras

### **Deployment y CI/CD**
- **CI/CD** con GitHub Actions o AWS CodePipeline
- **Deployment** en AWS Elastic Beanstalk


## üë®‚Äçüíª Autor

**Heider Rey Hern√°ndez** - Desarrollador Full Stack

---

**¬°Gracias por revisar este proyecto!** üöÄ